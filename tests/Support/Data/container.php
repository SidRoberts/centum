<?php

use Centum\Container\Container;
use Centum\Interfaces\Container\ContainerInterface;
use Centum\Router\Router;

////////////////////////////////////////////////////////////////////////////////
//                                 CONTAINER                                  //
////////////////////////////////////////////////////////////////////////////////

$container = new Container();



////////////////////////////////////////////////////////////////////////////////
//                                APPLICATION                                 //
////////////////////////////////////////////////////////////////////////////////

$container->setDynamic(
    Router::class,
    /** @psalm-suppress UnusedClosureParam */
    function (ContainerInterface $container): Router {
        /** @var Router */
        return require __DIR__ . "/router.php";
    }
);

////////////////////////////////////////////////////////////////////////////////

// ...



////////////////////////////////////////////////////////////////////////////////
//                                  SERVICES                                  //
////////////////////////////////////////////////////////////////////////////////

// ...



////////////////////////////////////////////////////////////////////////////////
//                                 AND RETURN                                 //
////////////////////////////////////////////////////////////////////////////////

return $container;
